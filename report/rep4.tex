% REPORT FOR PROJECT2 SF2565

\documentclass[a4paper,10pt]{article}

%%Packages	%%%	%%%	%%%	%%%	%%%	%%%	%%%
\usepackage{amsmath,framed}
\usepackage[latin1]{inputenc} 	
\usepackage{listings}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{placeins}
\usepackage{textcomp}
%\usepackage{tikz}

%%Settings	%%%	%%%	%%%	%%%	%%%	%%%	%%%
\renewcommand{\d}{\text{d}}
\newcommand{\e}{\text{e}}
\newcommand{\ve}{\mathbf}
\newcommand\numb{\addtocounter{equation}{1}\tag{\theequation}}

\setlength\fboxsep{1.2mm}
\setlength\fboxrule{0.5mm}

\lstset { %
  language=C++,
  backgroundcolor=\color{black!3},	% set backgroundcolor
  basicstyle=\footnotesize,		% basic font setting
}

%%Margins	%%%	%%%	%%%	%%%	%%%	%%%	%%%
\usepackage{geometry}
\geometry{
  a4paper,
  left=35mm,
  right=35mm,
  top=35mm,
  bottom=35mm,
}

%%Header & Footer	%%%	%%%	%%%	%%%	%%%	%%%
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{1pt}
\rhead{Hanna Hultin, Mikael Perssson}
%8509080456 mitt persnr om vi vill ha det
\lhead{P4 SF565}

\title{Project 4, SF2565}
\author{Hanna Hultin, hhultin@kth.se, 931122-2468, TTMAM2 \\ Mikael Persson, mikaepe@kth.se, 850908-0456, TTMAM2}
\begin{document}
\maketitle

\subsection*{Task 1: Redesigning the Domain class}
The domain class was taken directly from project 3, with the following modifications. 
\begin{itemize}
  \item
    Functions \texttt{xsize()}, \texttt{ysize()} and \texttt{gridValid()} was added.
  \item The class uses \texttt{shared\_ptr} to the boundary curves. 
  \item
    The \texttt{writeFile()} function was changed to 
    \texttt{writeFile(std::string fileName)} to be able to save the 
    different grid functions with different filenames.
\end{itemize}

\subsection*{Task 2: The Gfctn class}
The class for gridfunctions \texttt{class Gfctn} has the following data members.
\begin{itemize}
  \item
    A matrix \texttt{u} to store the grid function values.
  \item
    A \texttt{shared\_ptr} to a \texttt{Domain} object called \texttt{grid}.
\end{itemize}
The class has a the following constructors.
\begin{itemize}
  \item \texttt{Gfctn(shared\_ptr<Domain> grid)} which initializes the grid function with
    the matrix \texttt{u} being the zero matrix.
  \item \texttt{Gfctn(const Gfctn\& U)}, a copy constructor.
\end{itemize}
Overloaded operators are provided for adding and multiplying grid functions (\texttt{+} and 
\texttt{*}).
The following member functions are implemented.
\begin{itemize}
  \item
    \texttt{void setFunction(fctnPtr f)} which sets the gridfunction values to those
    defined by the function \texttt{f}. This function needs to take \texttt{Point}
    objects as argument.
  \item
    \texttt{void print()} which prints the matrix \texttt{u}.
    This is useful for testing on small grids only.
  \item
    \texttt{void writeFile(std::string fileName) const} which saves the grid function
    values to a binary file, \texttt{fileName.bin}.
\end{itemize}
In addition to those functions listed above, the class has functions to compute 
the approximations to $\tfrac{\partial u}{\partial x}$, $\tfrac{\partial u}{\partial y}$,
$\tfrac{\partial^2 u}{\partial x^2}$ and $\tfrac{\partial^2 u}{\partial y^2}$. Finally the class has a function for computing the Laplacian of the grid function, $\Delta u = \tfrac{\partial^2 u}{
  \partial x^2} + \tfrac{\partial^2 u}{\partial y^2}$.
    



\subsection*{Task 3: Discretizing a function and computing differential operators}


\newpage
\subsection*{Code}
\subsubsection*{Main}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../testDomain.cpp}
\subsubsection*{The Curvebase Class}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../curvebase.hpp}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../curvebase.cpp}
\subsubsection*{The derived classes from the Curvebase Class}
These are all identical to the derived classes in project 3.
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../xline.hpp}
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../xline.cpp}
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../yline.hpp}
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../yline.cpp}
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../fxcurve.hpp}
%\lstinputlisting[language=C++,basicstyle=\scriptsize]{../fxcurve.cpp}
\subsubsection*{The Domain Class}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../domain.hpp}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../domain.cpp}

\subsubsection*{The Gfctn Class}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../gfctn.hpp}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../gfctn.cpp}

\subsubsection*{The Matrix Class}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../matrix.hpp}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../matrix.cpp}

\subsubsection*{The Point Class}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../point.hpp}
\lstinputlisting[language=C++,basicstyle=\scriptsize]{../point.cpp}



\end{document}





